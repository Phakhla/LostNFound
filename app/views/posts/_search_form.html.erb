<div class="container mt-5 ">
  <div class="row d-flex justify-content-center">
    <div class="col-md-12">
     <h1 class="text-center">คุณกำลังมองหาอะไร ...</h1>
      <div class="row g-3 mt-2 ">
        <div class="col-md-1">
        </div>
        <div class="col-md-8">
          <%= search_form_for @q, url: root_path, data: {controller: "autocomplete", autocomplete_url_value: autocomplete_posts_path } do |f| %>
            <%= f.search_field :name_cont, data: {autocomplete_target: "input" }, class: "form-control" %>
            <ul data-autocomplete-target="results"></ul>
          <% end %>
        </div>
        <div class="col-md-3">
          <button class="btn btn-secondary btn-block" data-bs-toggle="modal" data-bs-target="#myModal">ค้นหาขั้นสูง</button>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <% if @search.present? %>
        <div class="row g-3 mt-2 ">
          <%= link_to root_path do %>
            <p><i class="fa-solid fa-arrow-left"></i>ย้อนกลับ</p>
          <% end %>
          <hr>
          <div class="col-md-1">
            <p>ค้นหา: <%= @search %></p>
          </div>
          <div class="col-md-8">
          </div>
          <div class="col-md-3">
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <%= search_form_for @q|| Post.ransack , url: search_posts_path , method: "GET", html: { class: 'form-inline' } do |f| %>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="myModalLabel">Modal title</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="checkboxmodal">
            <div class="checkboxitem">
              <%= check_box_tag('q[category_eq_any][]', 1) %> ประกาศหาของหาย
            </div>
            <div class="checkboxitem">
              <%= check_box_tag('q[category_eq_any][]', 0) %> ประกาศตามหาเจ้าของ
            </div>
          </div>

          <div class="namemodal">
            <%= f.label "ค้นหา" %><br>
            <%= f.search_field :name_cont %>
          </div>

          <div class="selectmodal">
            <div class="selectitem">
              <%= f.label "เลือกหมวดหมู่" %><br>
              <%= f.select :types_eq, Post.types.to_a, {:include_blank => true} %>
            </div>
            <div class="selectitem">
              <%= f.label "ช่วงวันที่หาย" %><br>
              <%= f.date_field :date_gteq %>
            </div>
            <div class="selectitem">
              <%= f.label "ถึงวันที่" %><br>
              <%= f.date_field :date_lteq %>
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <p><%= f.submit "Apply", class: "btn btn-primary" %></p>
      </div>

    </div>
  </div>
  <%end %>
</div>

