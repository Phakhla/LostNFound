<% if resource.errors.any? && resource.errors[:email] != ["can't be blank"] %>
  <div class="modal fade" id="forgot-password" data-bs-backdrop="static" data-bs-keyboard="false"
    tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"
    data-controller="forgot-password" data-forgot-password-target="modal">
    <div class="modal-dialog modal-dialog-centered modal--close-post modal-lg">
      <div class="modal-content">
        <div class="modal-header d-flex justify-content-end">
          <i class="fa-solid fa-xmark text-subtitle" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></i>
        </div>
        <div class="modal-body">
          <div class="m-body">
            <div class="text-header4 font-weight600 text-center">ส่งอีเมลไม่สำเร็จ</div>
            <div class="text-center layout-07">
              <p>ไม่สามารถส่งข้อความไปยังอีเมลตามที่คุณกรอกไว้</p><p>กรุณากรอกอีเมลใหม่อีกครั้ง</p>
            </div>
            <div class="row justify-content-md-center">
              <div class="col-md-auto mt-3 mt-md-0">
                <button type="button" class="btn btn--primary-black btn--w-100 ms-0 ms-md-2forgot spacing-09" data-bs-dismiss="modal" style="width: 154px; height: 48px;">ปิด</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>

<% if params[:success] == 'true' %>
  <div class="modal fade" id="forgot-password" data-bs-backdrop="static" data-bs-keyboard="false"
    tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"
    data-controller="forgot-password" data-forgot-password-target="modal">
    <div class="modal-dialog modal-dialog-centered modal--close-post modal-lg">
      <div class="modal-content">
        <div class="modal-header d-flex justify-content-end">
          <%= link_to "", new_session_path(resource_name), class: "btn-close" %>
        </div>
        <div class="modal-body">
          <div class="m-body">
            <div class="text-header4 font-weight600 text-center">เช็คอีเมลในกล่องข้อความของคุณ</div>
            <div class="mt-3 justify-content-center text-center">
              <p>เราได้ทำการส่งอีเมลเพื่อเปลี่ยนรหัสผ่านผู้ใช้งานของคุณไปที่อีเมล</p>
              <p>กรุณาเช็คอีเมลในกล่องข้อความของคุณที่ <b class="font-weight700"><%= params[:email] %></b></p>
            </div>
            <div class="col-lg-12 d-flex justify-content-center">
              <%= form_for(resource, as: resource_name, url: password_path(resource_name),
              html: { "data-turbo": "false", method: :post }) do |f| %>
                <div class="row">
                  <div class="col-lg-12 d-flex justify-content-center">
                    <div class="field">
                      <%= f.hidden_field :email, autofocus: true, autocomplete: "email",
                      class: "form-control", value: params[:email] %>
                    </div>
                  </div>
                  <div class="mt-4 d-flex justify-content-center">
                    <p>ไม่ได้รับอีเมล?</p>&nbsp
                    <p><%= f.submit "ส่งอีกครั้ง", class: "send-again-font btn btn--send-again p-0"%></p>
                  </div>
                </div>
              <% end %>
            </div>
            <div class="row justify-content-md-center spacing-09">
              <div class="col-md-auto mt-3 mt-md-0">
                <%= link_to "ปิด", new_session_path(resource_name), class: "btn btn--primary-black btn--w-100 ms-0 ms-md-2" %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
